{"ast":null,"code":"// Risk weights for different data categories\nexport const RISK_WEIGHTS = {\n  // Sensitive Data (Highest Risk)\n  financial: 1.0,\n  health: 1.0,\n  biometric: 1.0,\n  governmentId: 1.0,\n  preciseLocation: 1.0,\n  racialEthnic: 1.0,\n  politicalOpinions: 1.0,\n  religiousBeliefs: 1.0,\n  sexualOrientation: 1.0,\n  tradeUnionMembership: 1.0,\n  geneticData: 1.0,\n  // Personal Identifiers (High Risk)\n  fullName: 0.8,\n  email: 0.8,\n  phone: 0.8,\n  address: 0.8,\n  ipAddress: 0.8,\n  deviceId: 0.8,\n  accountCredentials: 0.8,\n  // Behavioral Data (Medium Risk)\n  browsingHistory: 0.6,\n  searchHistory: 0.6,\n  purchaseHistory: 0.6,\n  appUsage: 0.6,\n  interactionData: 0.6,\n  preferences: 0.6,\n  // Diagnostic/Technical Data (Low Risk)\n  crashReports: 0.3,\n  performanceData: 0.3,\n  diagnosticLogs: 0.3,\n  systemActivity: 0.3,\n  errorReports: 0.3\n};\n/**\n * Calculate risk score based on data collection items\n */\nexport function calculateRiskScore(items) {\n  if (!items || items.length === 0) {\n    return {\n      score: 0,\n      level: 'low',\n      factors: {\n        dataSensitivity: 0,\n        collectionContext: 0,\n        storageSecurity: 0,\n        dataSharing: 0,\n        userControls: 0\n      },\n      recommendations: []\n    };\n  }\n\n  // Calculate base risk from data categories\n  const dataSensitivity = calculateDataSensitivityScore(items);\n\n  // Calculate other risk factors\n  const collectionContext = calculateCollectionContextScore(items);\n  const storageSecurity = calculateStorageSecurityScore(items);\n  const dataSharing = calculateDataSharingScore(items);\n  const userControls = calculateUserControlsScore(items);\n\n  // Calculate weighted score (0-100)\n  const score = Math.min(100, Math.round(dataSensitivity * 0.4 + collectionContext * 0.2 + storageSecurity * 0.2 + dataSharing * 0.15 + userControls * 0.05));\n\n  // Determine risk level\n  let level = 'low';\n  if (score >= 75) level = 'critical';else if (score >= 50) level = 'high';else if (score >= 25) level = 'medium';\n\n  // Generate recommendations\n  const recommendations = generateRecommendations({\n    score,\n    dataSensitivity,\n    collectionContext,\n    storageSecurity,\n    dataSharing,\n    userControls,\n    items\n  });\n  return {\n    score,\n    level,\n    factors: {\n      dataSensitivity,\n      collectionContext,\n      storageSecurity,\n      dataSharing,\n      userControls\n    },\n    recommendations\n  };\n}\nfunction calculateDataSensitivityScore(items) {\n  let totalScore = 0;\n  let maxPossibleScore = 0;\n  items.forEach(item => {\n    const weight = RISK_WEIGHTS[item.category] || 0.5;\n    totalScore += weight * 100;\n    maxPossibleScore += 100;\n  });\n  return maxPossibleScore > 0 ? totalScore / maxPossibleScore * 100 : 0;\n}\nfunction calculateCollectionContextScore(items) {\n  // Evaluate purpose limitation and necessity\n  const purposes = new Set(items.map(item => item.purpose));\n  const hasVaguePurposes = Array.from(purposes).some(p => p.toLowerCase().includes('improve') || p.toLowerCase().includes('enhance') || p.toLowerCase().includes('personalize'));\n\n  // Check if consent is explicitly mentioned\n  const hasExplicitConsent = items.some(item => item.purpose.toLowerCase().includes('consent') || item.purpose.toLowerCase().includes('agreement'));\n\n  // Check data minimization\n  const hasMinimization = items.every(item => item.purpose && item.purpose.length > 0 && !item.purpose.toLowerCase().includes('all data'));\n  let score = 50; // Neutral starting point\n  if (hasVaguePurposes) score += 20;\n  if (!hasExplicitConsent) score += 15;\n  if (!hasMinimization) score += 15;\n  return Math.min(100, score);\n}\nfunction calculateStorageSecurityScore(items) {\n  // Check security measures\n  const hasEncryption = items.some(item => item.securityMeasures.some(measure => measure.toLowerCase().includes('encrypt')));\n  const hasAccessControls = items.some(item => item.securityMeasures.some(measure => measure.toLowerCase().includes('access') || measure.toLowerCase().includes('authentication')));\n\n  // Check retention periods\n  const hasIndefiniteRetention = items.some(item => item.retentionPeriod && (item.retentionPeriod.toLowerCase().includes('indefinite') || item.retentionPeriod.toLowerCase().includes('forever') || item.retentionPeriod.toLowerCase().includes('retained')));\n  let score = 50; // Neutral starting point\n  if (!hasEncryption) score += 30;\n  if (!hasAccessControls) score += 20;\n  if (hasIndefiniteRetention) score += 20;\n  return Math.min(100, score);\n}\nfunction calculateDataSharingScore(items) {\n  // Check if data is shared with third parties\n  const sharesWithThirdParties = items.some(item => item.sharedWithThirdParties);\n\n  // Check international transfers\n  const hasInternationalTransfers = items.some(item => item.securityMeasures.some(measure => measure.toLowerCase().includes('international') || measure.toLowerCase().includes('transfer')));\n\n  // Check if data is aggregated/anonymized\n  const hasAggregation = items.some(item => item.securityMeasures.some(measure => measure.toLowerCase().includes('aggregate') || measure.toLowerCase().includes('anonymize') || measure.toLowerCase().includes('pseudonymize')));\n  let score = 30; // Start lower as sharing is generally higher risk\n  if (sharesWithThirdParties) score += 40;\n  if (hasInternationalTransfers) score += 20;\n  if (!hasAggregation) score += 10;\n  return Math.min(100, score);\n}\nfunction calculateUserControlsScore(items) {\n  // Check for user control options\n  const hasAccessRights = items.some(item => item.securityMeasures.some(measure => measure.toLowerCase().includes('access') || measure.toLowerCase().includes('download')));\n  const hasDeletionRights = items.some(item => item.securityMeasures.some(measure => measure.toLowerCase().includes('delete') || measure.toLowerCase().includes('erasure')));\n  const hasOptOut = items.some(item => item.securityMeasures.some(measure => measure.toLowerCase().includes('opt') || measure.toLowerCase().includes('preference')));\n  let score = 70; // Start higher as we're looking for presence of controls\n  if (!hasAccessRights) score -= 20;\n  if (!hasDeletionRights) score -= 20;\n  if (!hasOptOut) score -= 10;\n  return Math.max(0, score);\n}\nfunction generateRecommendations(params) {\n  const recommendations = [];\n  const {\n    score,\n    dataSensitivity,\n    storageSecurity,\n    dataSharing,\n    userControls\n  } = params;\n\n  // General recommendations based on score\n  if (score >= 75) {\n    recommendations.push(\"‚ö†Ô∏è Critical: This privacy policy indicates significant privacy risks. Consider consulting with a privacy professional.\");\n  } else if (score >= 50) {\n    recommendations.push(\"üîç High Risk: This privacy policy has concerning elements. Review carefully before proceeding.\");\n  }\n\n  // Data sensitivity recommendations\n  if (dataSensitivity > 70) {\n    recommendations.push(\"üîí High sensitivity data detected: Consider if all collected data is necessary for the service's functionality.\");\n  }\n\n  // Storage and security recommendations\n  if (storageSecurity > 70) {\n    recommendations.push(\"‚ö†Ô∏è Security concerns: The policy indicates potential security vulnerabilities in data storage and handling.\");\n  }\n\n  // Data sharing recommendations\n  if (dataSharing > 70) {\n    recommendations.push(\"üåê Extensive data sharing: Your data may be shared with multiple third parties. Review the 'Third-Party Sharing' section carefully.\");\n  }\n\n  // User control recommendations\n  if (userControls < 40) {\n    recommendations.push(\"üõ°Ô∏è Limited user controls: The policy provides limited options for controlling your data. Consider requesting additional controls from the service provider.\");\n  }\n\n  // Check for specific high-risk data types\n  const highRiskItems = params.items.filter(item => ['financial', 'health', 'biometric', 'governmentId'].includes(item.category));\n  if (highRiskItems.length > 0) {\n    const types = [...new Set(highRiskItems.map(item => item.type))].join(', ');\n    recommendations.push(`‚ö†Ô∏è Sensitive data collection detected: ${types}. Ensure you understand why this data is being collected.`);\n  }\n\n  // Check for international transfers\n  const hasInternationalTransfer = params.items.some(item => item.securityMeasures.some(m => m.toLowerCase().includes('international') || m.toLowerCase().includes('transfer')));\n  if (hasInternationalTransfer) {\n    recommendations.push(\"üåç International data transfers detected: Your data may be transferred to and processed in countries with different data protection laws.\");\n  }\n  return recommendations;\n}\n\n// Helper function to map raw analysis to our data model\nexport const mapToDataCollectionItems = rawData => {\n  if (!rawData || !rawData.data_collection) return [];\n  return rawData.data_collection.map(item => ({\n    type: item.type || item.data_type || 'Unknown',\n    purpose: item.purpose || 'Not specified',\n    category: mapToDataCategory(item.type || item.data_type),\n    retentionPeriod: item.retention_period || item.retentionPeriod,\n    sharedWithThirdParties: item.shared_with_third_parties || item.sharedWithThirdParties || false,\n    securityMeasures: item.security_measures || item.securityMeasures || [],\n    risk: item.risk || 'medium',\n    risk_score: item.risk_score || 0,\n    explanation: item.explanation || '',\n    recommendations: item.recommendations || []\n  }));\n};\nfunction mapToDataCategory(dataType) {\n  const lowerType = (dataType || '').toLowerCase();\n\n  // Sensitive Data\n  if (/(financial|bank|credit|payment|transaction)/i.test(lowerType)) return 'financial';\n  if (/(health|medical|prescription|diagnos)/i.test(lowerType)) return 'health';\n  if (/(biometric|fingerprint|face|voice|retina)/i.test(lowerType)) return 'biometric';\n  if (/(ssn|social security|passport|drivers? ?license|government[\"\\s-]?id)/i.test(lowerType)) return 'governmentId';\n  if (/(precise|exact|gps|geolocation)/i.test(lowerType)) return 'preciseLocation';\n  if (/(race|ethnic|religion|belief|political|union|sexual|orientation)/i.test(lowerType)) {\n    if (/(race|ethnic)/i.test(lowerType)) return 'racialEthnic';\n    if (/(political|election)/i.test(lowerType)) return 'politicalOpinions';\n    if (/(religion|belief|caste)/i.test(lowerType)) return 'religiousBeliefs';\n    if (/(union|labor)/i.test(lowerType)) return 'tradeUnionMembership';\n    if (/(sexual|orientation|lgbtq)/i.test(lowerType)) return 'sexualOrientation';\n  }\n  if (/(genetic|dna|rna)/i.test(lowerType)) return 'geneticData';\n\n  // Personal Identifiers\n  if (/(name|fullname|first[\\s-]?name|last[\\s-]?name)/i.test(lowerType)) return 'fullName';\n  if (/(email|e-?mail|e ?mail)/i.test(lowerType)) return 'email';\n  if (/(phone|mobile|cell|telephone)/i.test(lowerType)) return 'phone';\n  if (/(address|street|city|state|zip|postal|country)/i.test(lowerType)) return 'address';\n  if (/(ip\\s*address|ipv4|ipv6|internet protocol)/i.test(lowerType)) return 'ipAddress';\n  if (/(device[\\s-]?id|advertising[\\s-]?id|idfa|gaid)/i.test(lowerType)) return 'deviceId';\n  if (/(username|login|password|credential|auth)/i.test(lowerType)) return 'accountCredentials';\n\n  // Behavioral Data\n  if (/(brows(?:ing)?[\\s-]?history|visited|urls?|websites?)/i.test(lowerType)) return 'browsingHistory';\n  if (/(search[\\s-]?history|queries|searches)/i.test(lowerType)) return 'searchHistory';\n  if (/(purchase[\\s-]?history|transactions?|orders?)/i.test(lowerType)) return 'purchaseHistory';\n  if (/(app[\\s-]?usage|screen[\\s-]?time|time[\\s-]?spent)/i.test(lowerType)) return 'appUsage';\n  if (/(interaction|click|tap|scroll|hover|engagement)/i.test(lowerType)) return 'interactionData';\n  if (/(preference|setting|option|choice)/i.test(lowerType)) return 'preferences';\n\n  // Diagnostic/Technical Data\n  if (/(crash|error|exception|bug|failure)/i.test(lowerType)) return 'crashReports';\n  if (/(performance|speed|latency|load[\\s-]?time)/i.test(lowerType)) return 'performanceData';\n  if (/(log|record|audit|diagnostic|debug)/i.test(lowerType)) return 'diagnosticLogs';\n  if (/(system|device|hardware|os|version|model)/i.test(lowerType)) return 'systemActivity';\n\n  // Default to medium risk if we can't categorize\n  return 'preferences';\n}\n\n// Risk level definitions\nexport const RISK_LEVELS = {\n  low: {\n    min: 0,\n    max: 39,\n    color: 'green.400',\n    label: 'Low Risk',\n    description: 'Minimal privacy concerns. Standard data collection with good security practices.'\n  },\n  medium: {\n    min: 40,\n    max: 69,\n    color: 'yellow.400',\n    label: 'Medium Risk',\n    description: 'Moderate privacy concerns. Review data collection practices and sharing policies.'\n  },\n  high: {\n    min: 70,\n    max: 89,\n    color: 'orange.400',\n    label: 'High Risk',\n    description: 'Significant privacy concerns. Exercise caution and review the policy carefully.'\n  },\n  critical: {\n    min: 90,\n    max: 100,\n    color: 'red.500',\n    label: 'Critical Risk',\n    description: 'Severe privacy concerns. Consider avoiding this service or consulting a privacy professional.'\n  }\n};","map":{"version":3,"names":["RISK_WEIGHTS","financial","health","biometric","governmentId","preciseLocation","racialEthnic","politicalOpinions","religiousBeliefs","sexualOrientation","tradeUnionMembership","geneticData","fullName","email","phone","address","ipAddress","deviceId","accountCredentials","browsingHistory","searchHistory","purchaseHistory","appUsage","interactionData","preferences","crashReports","performanceData","diagnosticLogs","systemActivity","errorReports","calculateRiskScore","items","length","score","level","factors","dataSensitivity","collectionContext","storageSecurity","dataSharing","userControls","recommendations","calculateDataSensitivityScore","calculateCollectionContextScore","calculateStorageSecurityScore","calculateDataSharingScore","calculateUserControlsScore","Math","min","round","generateRecommendations","totalScore","maxPossibleScore","forEach","item","weight","category","purposes","Set","map","purpose","hasVaguePurposes","Array","from","some","p","toLowerCase","includes","hasExplicitConsent","hasMinimization","every","hasEncryption","securityMeasures","measure","hasAccessControls","hasIndefiniteRetention","retentionPeriod","sharesWithThirdParties","sharedWithThirdParties","hasInternationalTransfers","hasAggregation","hasAccessRights","hasDeletionRights","hasOptOut","max","params","push","highRiskItems","filter","types","type","join","hasInternationalTransfer","m","mapToDataCollectionItems","rawData","data_collection","data_type","mapToDataCategory","retention_period","shared_with_third_parties","security_measures","risk","risk_score","explanation","dataType","lowerType","test","RISK_LEVELS","low","color","label","description","medium","high","critical"],"sources":["C:/Users/asus/CascadeProjects/poliscan/src/utils/riskAssessment.ts"],"sourcesContent":["// Risk weights for different data categories\nexport const RISK_WEIGHTS = {\n  // Sensitive Data (Highest Risk)\n  financial: 1.0,\n  health: 1.0,\n  biometric: 1.0,\n  governmentId: 1.0,\n  preciseLocation: 1.0,\n  racialEthnic: 1.0,\n  politicalOpinions: 1.0,\n  religiousBeliefs: 1.0,\n  sexualOrientation: 1.0,\n  tradeUnionMembership: 1.0,\n  geneticData: 1.0,\n  \n  // Personal Identifiers (High Risk)\n  fullName: 0.8,\n  email: 0.8,\n  phone: 0.8,\n  address: 0.8,\n  ipAddress: 0.8,\n  deviceId: 0.8,\n  accountCredentials: 0.8,\n  \n  // Behavioral Data (Medium Risk)\n  browsingHistory: 0.6,\n  searchHistory: 0.6,\n  purchaseHistory: 0.6,\n  appUsage: 0.6,\n  interactionData: 0.6,\n  preferences: 0.6,\n  \n  // Diagnostic/Technical Data (Low Risk)\n  crashReports: 0.3,\n  performanceData: 0.3,\n  diagnosticLogs: 0.3,\n  systemActivity: 0.3,\n  errorReports: 0.3\n} as const;\n\nexport type DataCategory = keyof typeof RISK_WEIGHTS;\n\nexport interface DataCollectionItem {\n  type: string;\n  purpose: string;\n  category: DataCategory;\n  retentionPeriod?: string;\n  sharedWithThirdParties: boolean;\n  securityMeasures: string[];\n}\n\nexport interface RiskAssessmentResult {\n  score: number;\n  level: 'low' | 'medium' | 'high' | 'critical';\n  factors: {\n    dataSensitivity: number;\n    collectionContext: number;\n    storageSecurity: number;\n    dataSharing: number;\n    userControls: number;\n  };\n  recommendations: string[];\n}\n\n/**\n * Calculate risk score based on data collection items\n */\nexport function calculateRiskScore(items: DataCollectionItem[]): RiskAssessmentResult {\n  if (!items || items.length === 0) {\n    return {\n      score: 0,\n      level: 'low',\n      factors: {\n        dataSensitivity: 0,\n        collectionContext: 0,\n        storageSecurity: 0,\n        dataSharing: 0,\n        userControls: 0\n      },\n      recommendations: []\n    };\n  }\n\n  // Calculate base risk from data categories\n  const dataSensitivity = calculateDataSensitivityScore(items);\n  \n  // Calculate other risk factors\n  const collectionContext = calculateCollectionContextScore(items);\n  const storageSecurity = calculateStorageSecurityScore(items);\n  const dataSharing = calculateDataSharingScore(items);\n  const userControls = calculateUserControlsScore(items);\n\n  // Calculate weighted score (0-100)\n  const score = Math.min(\n    100,\n    Math.round(\n      (dataSensitivity * 0.4) +\n      (collectionContext * 0.2) +\n      (storageSecurity * 0.2) +\n      (dataSharing * 0.15) +\n      (userControls * 0.05)\n    )\n  );\n\n  // Determine risk level\n  let level: RiskAssessmentResult['level'] = 'low';\n  if (score >= 75) level = 'critical';\n  else if (score >= 50) level = 'high';\n  else if (score >= 25) level = 'medium';\n\n  // Generate recommendations\n  const recommendations = generateRecommendations({\n    score,\n    dataSensitivity,\n    collectionContext,\n    storageSecurity,\n    dataSharing,\n    userControls,\n    items\n  });\n\n  return {\n    score,\n    level,\n    factors: {\n      dataSensitivity,\n      collectionContext,\n      storageSecurity,\n      dataSharing,\n      userControls\n    },\n    recommendations\n  };\n}\n\nfunction calculateDataSensitivityScore(items: DataCollectionItem[]): number {\n  let totalScore = 0;\n  let maxPossibleScore = 0;\n\n  items.forEach(item => {\n    const weight = RISK_WEIGHTS[item.category as DataCategory] || 0.5;\n    totalScore += weight * 100;\n    maxPossibleScore += 100;\n  });\n\n  return maxPossibleScore > 0 ? (totalScore / maxPossibleScore) * 100 : 0;\n}\n\nfunction calculateCollectionContextScore(items: DataCollectionItem[]): number {\n  // Evaluate purpose limitation and necessity\n  const purposes = new Set(items.map(item => item.purpose));\n  const hasVaguePurposes = Array.from(purposes).some(\n    p => p.toLowerCase().includes('improve') || \n         p.toLowerCase().includes('enhance') ||\n         p.toLowerCase().includes('personalize')\n  );\n\n  // Check if consent is explicitly mentioned\n  const hasExplicitConsent = items.some(item => \n    item.purpose.toLowerCase().includes('consent') ||\n    item.purpose.toLowerCase().includes('agreement')\n  );\n\n  // Check data minimization\n  const hasMinimization = items.every(item => \n    item.purpose && \n    item.purpose.length > 0 &&\n    !item.purpose.toLowerCase().includes('all data')\n  );\n\n  let score = 50; // Neutral starting point\n  if (hasVaguePurposes) score += 20;\n  if (!hasExplicitConsent) score += 15;\n  if (!hasMinimization) score += 15;\n\n  return Math.min(100, score);\n}\n\nfunction calculateStorageSecurityScore(items: DataCollectionItem[]): number {\n  // Check security measures\n  const hasEncryption = items.some(item => \n    item.securityMeasures.some(measure => \n      measure.toLowerCase().includes('encrypt')\n    )\n  );\n\n  const hasAccessControls = items.some(item =>\n    item.securityMeasures.some(measure =>\n      measure.toLowerCase().includes('access') ||\n      measure.toLowerCase().includes('authentication')\n    )\n  );\n\n  // Check retention periods\n  const hasIndefiniteRetention = items.some(item => \n    item.retentionPeriod && \n    (item.retentionPeriod.toLowerCase().includes('indefinite') ||\n     item.retentionPeriod.toLowerCase().includes('forever') ||\n     item.retentionPeriod.toLowerCase().includes('retained'))\n  );\n\n  let score = 50; // Neutral starting point\n  if (!hasEncryption) score += 30;\n  if (!hasAccessControls) score += 20;\n  if (hasIndefiniteRetention) score += 20;\n\n  return Math.min(100, score);\n}\n\nfunction calculateDataSharingScore(items: DataCollectionItem[]): number {\n  // Check if data is shared with third parties\n  const sharesWithThirdParties = items.some(item => item.sharedWithThirdParties);\n  \n  // Check international transfers\n  const hasInternationalTransfers = items.some(item => \n    item.securityMeasures.some(measure => \n      measure.toLowerCase().includes('international') ||\n      measure.toLowerCase().includes('transfer')\n    )\n  );\n\n  // Check if data is aggregated/anonymized\n  const hasAggregation = items.some(item =>\n    item.securityMeasures.some(measure =>\n      measure.toLowerCase().includes('aggregate') ||\n      measure.toLowerCase().includes('anonymize') ||\n      measure.toLowerCase().includes('pseudonymize')\n    )\n  );\n\n  let score = 30; // Start lower as sharing is generally higher risk\n  if (sharesWithThirdParties) score += 40;\n  if (hasInternationalTransfers) score += 20;\n  if (!hasAggregation) score += 10;\n\n  return Math.min(100, score);\n}\n\nfunction calculateUserControlsScore(items: DataCollectionItem[]): number {\n  // Check for user control options\n  const hasAccessRights = items.some(item =>\n    item.securityMeasures.some(measure =>\n      measure.toLowerCase().includes('access') ||\n      measure.toLowerCase().includes('download')\n    )\n  );\n\n  const hasDeletionRights = items.some(item =>\n    item.securityMeasures.some(measure =>\n      measure.toLowerCase().includes('delete') ||\n      measure.toLowerCase().includes('erasure')\n    )\n  );\n\n  const hasOptOut = items.some(item =>\n    item.securityMeasures.some(measure =>\n      measure.toLowerCase().includes('opt') ||\n      measure.toLowerCase().includes('preference')\n    )\n  );\n\n  let score = 70; // Start higher as we're looking for presence of controls\n  if (!hasAccessRights) score -= 20;\n  if (!hasDeletionRights) score -= 20;\n  if (!hasOptOut) score -= 10;\n\n  return Math.max(0, score);\n}\n\nfunction generateRecommendations(params: {\n  score: number;\n  dataSensitivity: number;\n  collectionContext: number;\n  storageSecurity: number;\n  dataSharing: number;\n  userControls: number;\n  items: DataCollectionItem[];\n}): string[] {\n  const recommendations: string[] = [];\n  const { score, dataSensitivity, storageSecurity, dataSharing, userControls } = params;\n\n  // General recommendations based on score\n  if (score >= 75) {\n    recommendations.push(\"‚ö†Ô∏è Critical: This privacy policy indicates significant privacy risks. Consider consulting with a privacy professional.\");\n  } else if (score >= 50) {\n    recommendations.push(\"üîç High Risk: This privacy policy has concerning elements. Review carefully before proceeding.\");\n  }\n\n  // Data sensitivity recommendations\n  if (dataSensitivity > 70) {\n    recommendations.push(\"üîí High sensitivity data detected: Consider if all collected data is necessary for the service's functionality.\");\n  }\n\n  // Storage and security recommendations\n  if (storageSecurity > 70) {\n    recommendations.push(\"‚ö†Ô∏è Security concerns: The policy indicates potential security vulnerabilities in data storage and handling.\");\n  }\n\n  // Data sharing recommendations\n  if (dataSharing > 70) {\n    recommendations.push(\"üåê Extensive data sharing: Your data may be shared with multiple third parties. Review the 'Third-Party Sharing' section carefully.\");\n  }\n\n  // User control recommendations\n  if (userControls < 40) {\n    recommendations.push(\"üõ°Ô∏è Limited user controls: The policy provides limited options for controlling your data. Consider requesting additional controls from the service provider.\");\n  }\n\n  // Check for specific high-risk data types\n  const highRiskItems = params.items.filter(item => \n    ['financial', 'health', 'biometric', 'governmentId'].includes(item.category)\n  );\n  \n  if (highRiskItems.length > 0) {\n    const types = [...new Set(highRiskItems.map(item => item.type))].join(', ');\n    recommendations.push(`‚ö†Ô∏è Sensitive data collection detected: ${types}. Ensure you understand why this data is being collected.`);\n  }\n\n  // Check for international transfers\n  const hasInternationalTransfer = params.items.some(item => \n    item.securityMeasures.some(m => \n      m.toLowerCase().includes('international') || \n      m.toLowerCase().includes('transfer')\n    )\n  );\n  \n  if (hasInternationalTransfer) {\n    recommendations.push(\"üåç International data transfers detected: Your data may be transferred to and processed in countries with different data protection laws.\");\n  }\n\n  return recommendations;\n}\n\n// Helper function to map raw analysis to our data model\nexport const mapToDataCollectionItems = (rawData: any): DataCollectionItem[] => {\n  if (!rawData || !rawData.data_collection) return [];\n  \n  return rawData.data_collection.map((item: any) => ({\n    type: item.type || item.data_type || 'Unknown',\n    purpose: item.purpose || 'Not specified',\n    category: mapToDataCategory(item.type || item.data_type),\n    retentionPeriod: item.retention_period || item.retentionPeriod,\n    sharedWithThirdParties: item.shared_with_third_parties || item.sharedWithThirdParties || false,\n    securityMeasures: item.security_measures || item.securityMeasures || [],\n    risk: item.risk || 'medium',\n    risk_score: item.risk_score || 0,\n    explanation: item.explanation || '',\n    recommendations: item.recommendations || []\n  }));\n}\n\nfunction mapToDataCategory(dataType: string): DataCategory {\n  const lowerType = (dataType || '').toLowerCase();\n  \n  // Sensitive Data\n  if (/(financial|bank|credit|payment|transaction)/i.test(lowerType)) return 'financial';\n  if (/(health|medical|prescription|diagnos)/i.test(lowerType)) return 'health';\n  if (/(biometric|fingerprint|face|voice|retina)/i.test(lowerType)) return 'biometric';\n  if (/(ssn|social security|passport|drivers? ?license|government[\"\\s-]?id)/i.test(lowerType)) return 'governmentId';\n  if (/(precise|exact|gps|geolocation)/i.test(lowerType)) return 'preciseLocation';\n  if (/(race|ethnic|religion|belief|political|union|sexual|orientation)/i.test(lowerType)) {\n    if (/(race|ethnic)/i.test(lowerType)) return 'racialEthnic';\n    if (/(political|election)/i.test(lowerType)) return 'politicalOpinions';\n    if (/(religion|belief|caste)/i.test(lowerType)) return 'religiousBeliefs';\n    if (/(union|labor)/i.test(lowerType)) return 'tradeUnionMembership';\n    if (/(sexual|orientation|lgbtq)/i.test(lowerType)) return 'sexualOrientation';\n  }\n  if (/(genetic|dna|rna)/i.test(lowerType)) return 'geneticData';\n  \n  // Personal Identifiers\n  if (/(name|fullname|first[\\s-]?name|last[\\s-]?name)/i.test(lowerType)) return 'fullName';\n  if (/(email|e-?mail|e ?mail)/i.test(lowerType)) return 'email';\n  if (/(phone|mobile|cell|telephone)/i.test(lowerType)) return 'phone';\n  if (/(address|street|city|state|zip|postal|country)/i.test(lowerType)) return 'address';\n  if (/(ip\\s*address|ipv4|ipv6|internet protocol)/i.test(lowerType)) return 'ipAddress';\n  if (/(device[\\s-]?id|advertising[\\s-]?id|idfa|gaid)/i.test(lowerType)) return 'deviceId';\n  if (/(username|login|password|credential|auth)/i.test(lowerType)) return 'accountCredentials';\n  \n  // Behavioral Data\n  if (/(brows(?:ing)?[\\s-]?history|visited|urls?|websites?)/i.test(lowerType)) return 'browsingHistory';\n  if (/(search[\\s-]?history|queries|searches)/i.test(lowerType)) return 'searchHistory';\n  if (/(purchase[\\s-]?history|transactions?|orders?)/i.test(lowerType)) return 'purchaseHistory';\n  if (/(app[\\s-]?usage|screen[\\s-]?time|time[\\s-]?spent)/i.test(lowerType)) return 'appUsage';\n  if (/(interaction|click|tap|scroll|hover|engagement)/i.test(lowerType)) return 'interactionData';\n  if (/(preference|setting|option|choice)/i.test(lowerType)) return 'preferences';\n  \n  // Diagnostic/Technical Data\n  if (/(crash|error|exception|bug|failure)/i.test(lowerType)) return 'crashReports';\n  if (/(performance|speed|latency|load[\\s-]?time)/i.test(lowerType)) return 'performanceData';\n  if (/(log|record|audit|diagnostic|debug)/i.test(lowerType)) return 'diagnosticLogs';\n  if (/(system|device|hardware|os|version|model)/i.test(lowerType)) return 'systemActivity';\n  \n  // Default to medium risk if we can't categorize\n  return 'preferences';\n}\n\n// Risk level definitions\nexport const RISK_LEVELS = {\n  low: {\n    min: 0,\n    max: 39,\n    color: 'green.400',\n    label: 'Low Risk',\n    description: 'Minimal privacy concerns. Standard data collection with good security practices.'\n  },\n  medium: {\n    min: 40,\n    max: 69,\n    color: 'yellow.400',\n    label: 'Medium Risk',\n    description: 'Moderate privacy concerns. Review data collection practices and sharing policies.'\n  },\n  high: {\n    min: 70,\n    max: 89,\n    color: 'orange.400',\n    label: 'High Risk',\n    description: 'Significant privacy concerns. Exercise caution and review the policy carefully.'\n  },\n  critical: {\n    min: 90,\n    max: 100,\n    color: 'red.500',\n    label: 'Critical Risk',\n    description: 'Severe privacy concerns. Consider avoiding this service or consulting a privacy professional.'\n  }\n} as const;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}